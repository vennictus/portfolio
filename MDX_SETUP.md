# MDX Blog System Setup

## âœ… What Was Done

Successfully migrated from hardcoded blog strings to **MDX (Markdown + React components)** using **Contentlayer**.

---

## ğŸ¯ Why MDX?

- **Write in Markdown** - Easy, familiar syntax
- **Embed React components** - Add interactive elements
- **Syntax highlighting** - Beautiful code blocks
- **Type-safe** - Contentlayer generates TypeScript types
- **Better for real content** - Each blog is a separate `.mdx` file

---

## ğŸ“ New Structure

```
src/
â”œâ”€â”€ data/
â”‚   â””â”€â”€ blogs/                    # â† All blog posts here!
â”‚       â”œâ”€â”€ what-will-website-be-like-in-100-years.mdx
â”‚       â”œâ”€â”€ best-blogs-to-follow-web-design.mdx
â”‚       â”œâ”€â”€ history-of-web-design.mdx
â”‚       â””â”€â”€ designers-who-changed-everything.mdx
â”‚
â”œâ”€â”€ components/
â”‚   â””â”€â”€ mdx/                      # â† MDX rendering components
â”‚       â”œâ”€â”€ MDXContent.tsx        # Main MDX renderer
â”‚       â””â”€â”€ Pre.tsx               # Code block with copy button
â”‚
â””â”€â”€ app/
    â””â”€â”€ blog/
        â”œâ”€â”€ page.tsx              # Lists all posts (uses Contentlayer)
        â””â”€â”€ [slug]/page.tsx       # Renders MDX content

.contentlayer/                    # â† Generated by Contentlayer (gitignored)
contentlayer.config.ts            # â† Configuration
```

---

## ğŸ“ How to Add a New Blog Post

### 1. Create a new `.mdx` file in `src/data/blogs/`:

```mdx
---
title: "your blog title"
excerpt: "a short description of your post"
date: "2024-04-10"
category: "design"
image: "/images/blog-5.jpg"
featured: true
published: true
---

# your blog title

write your content here in **markdown**!

## subheading

- bullet points
- work great

```javascript
// code blocks too!
const hello = "world";
```

![images work](/images/example.jpg)
```

### 2. Add your hero image to `public/images/`

### 3. That's it! The blog will automatically appear.

---

## ğŸ”§ How It Works

### Contentlayer Process:
1. **Reads** `.mdx` files from `src/data/blogs/`
2. **Processes** frontmatter (title, date, etc.)
3. **Compiles** MDX to React components
4. **Generates** TypeScript types in `.contentlayer/generated`
5. **Exports** `allPosts` array you can import

### Usage in Code:
```typescript
import { allPosts } from 'contentlayer/generated';

// Get all published posts
const blogs = allPosts.filter(post => post.published);

// Get featured posts
const featured = allPosts.filter(post => post.featured);

// Get specific post
const post = allPosts.find(p => p.slug === 'my-post');
```

---

## ğŸ¨ MDX Features You Can Use

### Basic Markdown:
- **Bold**, *italic*, ~~strikethrough~~
- [Links](https://example.com)
- Lists (ordered & unordered)
- Headings (h1-h6)
- Blockquotes
- Code blocks with syntax highlighting

### Images:
```mdx
![Alt text](/images/blog/my-image.jpg)
```

### Code Blocks:
````mdx
```javascript
const code = "with syntax highlighting";
```
````

### Future: React Components
You can import and use React components in your MDX:
```mdx
import { CustomComponent } from '@/components/CustomComponent';

<CustomComponent prop="value" />
```

---

## âš™ï¸ Configuration

### Frontmatter Fields:
- `title` (required) - Blog post title
- `excerpt` (required) - Short description
- `date` (required) - Publication date (YYYY-MM-DD)
- `category` (required) - Category tag
- `image` (optional) - Featured image path
- `featured` (optional) - Show on home page?
- `published` (optional) - Published or draft?
- `ogImage` (optional) - Custom OG image for social

### contentlayer.config.ts:
- Defines blog post schema
- Configures MDX plugins (syntax highlighting, slug generation, etc.)
- Sets up rehype plugins for code blocks

---

## ğŸš€ Commands

```bash
# Development (auto-rebuilds on MDX changes)
npm run dev

# Build for production
npm run build

# Start production server
npm start
```

---

##  ğŸ¨ Styling

MDX content is styled via:
- `src/components/mdx/MDXContent.tsx` - Defines component styles (h1, h2, p, etc.)
- `src/app/globals.css` - Global prose styles
- All text automatically lowercase per your design

Code blocks use:
- **rehype-pretty-code** for syntax highlighting
- **github-dark** theme
- Copy button on hover

---

## ğŸ” Key Files

| File | Purpose |
|------|---------|
| `contentlayer.config.ts` | Contentlayer configuration |
| `src/components/mdx/MDXContent.tsx` | MDX renderer with custom components |
| `src/components/mdx/Pre.tsx` | Code block with copy functionality |
| `src/app/blog/page.tsx` | Blog listing page |
| `src/app/blog/[slug]/page.tsx` | Individual blog post page |
| `src/components/BlogCard.tsx` | Blog card component |
| `src/data/blogs/*.mdx` | Your blog posts |

---

## ğŸ“¦ Dependencies Added

- `contentlayer2` - MDX processing
- `next-contentlayer2` - Next.js integration
- `rehype-pretty-code` - Code syntax highlighting
- `rehype-slug` - Auto-generate heading IDs
- `rehype-autolink-headings` - Clickable headings
- `shiki` - Syntax highlighter
- `date-fns` - Date formatting

---

## âœ¨ Benefits Over Old System

| Old System | New MDX System |
|------------|----------------|
| Hardcoded strings in `blogs.ts` | Separate `.mdx` files |
| No formatting | Full Markdown support |
| Manual line breaks | Automatic rendering |
| No code highlighting | Beautiful syntax highlighting |
| Hard to maintain | Easy to add/edit posts |
| No type safety | Fully typed with TypeScript |

---

## ğŸ¯ Next Steps

1. **Replace placeholder content** - Edit the 4 MDX files with your real blog posts
2. **Add images** - Put blog images in `public/images/`
3. **Write more posts** - Just create new `.mdx` files!
4. **Customize styling** - Edit `MDXContent.tsx` to change how elements look
5. **Add custom components** - Create reusable React components for your posts

---

## ğŸ› Troubleshooting

**"Module not found: contentlayer/generated"**
- Run: `npx contentlayer2 build`
- This generates the types

**Changes not showing**
- Contentlayer rebuilds automatically in dev mode
- If stuck, restart dev server

**Build fails**
- Check all `.mdx` files have required frontmatter
- Ensure dates are in YYYY-MM-DD format
- Check for syntax errors in MDX files

---

Happy blogging! ğŸš€
